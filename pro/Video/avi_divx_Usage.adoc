include::avi_divx_DataSheet.adoc[]

Configuration
-------------

.Target Configuration
A UDP listener listening on the avi_divx port defined in configuration file is required. The network tool socat can be used as a listener.

_Example of using socat to listen on avi_divx port:_

----
socat STDIO udp4-listen:12345
----

.Required Pit Configuration Changes
	Seed:: Name of a valid avi file located in the SamplePath directory. An empty string indicates use all files in the directory.
	SamplePath:: Directory path to the directory which the Avi sample files are stored.
	Target:: The program that will open the fuzzed Avi files

.Optional Pit Configuration Changes
	Strategy:: Fuzzing strategy Peach will use for testing
	LoggerPath:: Path to folder where logs will be stored
	Path:: Path to the relative base directory where all pits are located
	Agent:: Agent to run depending on the target OS. This value shouldn't be changed.

.Sample avi_divx Configuration File
[source,xml]
----
<?xml version="1.0" encoding="utf-8"?>
<PitDefines>
  <All>
    <Define key="Seed" value=""/>
    <Define key="Strategy"  value="Sequential"/>
    <Define key="LoggerPath"  value="./logs/avi_divx/"/>
    <Define key="Path" value="."/>
    <Define key="SamplePath" value="/_Common/Samples/Video/"/>
  </All>

  <Linux platform="linux">
    <Define key="Agent" value="Linux"/>
    <Define key="Target" value="vlc" />
  </Linux>
  <OSX platform="osx">
    <Define key="Agent" value="OSX"/>
    <Define key="Target" value="/Applications/VLC.app/Contents/MacOS/VLC" />
  </OSX>

  <Windows platform="windows">
    <Define key="Agent" value="Win"/>
    <Define key="Target" value="C:\\Program Files (x86)\\VideoLAN\\VLC\\vlc.exe" />
</PitDefines>
----

.Configure Additional Monitors
Add monitors to agent as needed

Running
-------

.Single test debug run
----
peach -1 -debug avi_divx.xml
----
.Full test run
----
peach avi_divx.xml
----