<?xml version="1.0" encoding="utf-8"?>
<Peach xmlns="http://phed.org/2008/Peach" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://phed.org/2008/Peach /peach/peach.xsd">
	
	<!-- Import defaults for Peach instance -->
	<Include ns="default" src="file:defaults.xml" />
	
	<!-- TODO: Create data model -->
	<DataModel name="TheDataModel">
		<Blob analyzer="binary.Binary" />
	</DataModel>
	
	<!-- TODO: Create state model -->
	<StateModel name="TheState" initialState="Initial">
		<State name="Initial">
			<Action type="output">
				<DataModel ref="TheDataModel" />
				<Data fileName="Flies3D_msa.swf" />
			</Action>
			<Action type="close" />
			<Action type="call" method="ScoobySnacks"/>
		</State>
	</StateModel>
	
	<Agent name="LocalAgent">
		<Monitor class="debugger.WindowsDebugEngine">
			<Param name="CommandLine" value="C:\Peach\flash\HostedPlayer\HostedPlayer\bin\x86\Debug\HostedPlayer.exe fuzzfile.swf" />
			<Param name="StartOnCall" value="ScoobySnacks" />
		</Monitor>
 		<Monitor class="process.PageHeap">
			<Param name="Executable" value="HostedPlayer.exe"/>
		</Monitor>
	</Agent>
	
	<Test name="TheTest">
		<Agent ref="LocalAgent"/>
		<StateModel ref="TheState"/>
		
		<!--
		<Publisher class="file.FileWriterLauncher">
			<Param name="fileName" value="C:\\Peach\\flash\\HostedPlayer\\HostedPlayer\\bin\\x86\\Debug\\fuzzfile.swf" />
			<Param name="debugger" value="true"/>
		</Publisher>
		-->
		<Publisher class="file.FileWriterLauncherGui">
			<Param name="fileName" value="C:\\Peach\\flash\\HostedPlayer\\HostedPlayer\\bin\\x86\\Debug\\fuzzfile.swf" />
			<Param name="windowName" value="Form1" />
			<Param name="debugger" value="true"/>
		</Publisher>

	</Test>
	
	<!-- Configure a single run -->
	<Run name="DefaultRun">
		
		<!-- TODO: Change log path if needed -->
		<Logger class="logger.Filesystem">
			<Param name="path" value="logs"/>
		</Logger>
		
		<Test ref="TheTest" />
		
	</Run>
	
</Peach>
<!-- end -->
