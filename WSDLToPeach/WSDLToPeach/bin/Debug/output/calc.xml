<?xml version="1.0" encoding="utf-8"?>
<Peach xmlns="http://phed.org/2008/Peach" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" schemaLocation="http://phed.org/2008/Peach ../../../../peach/peach.xsd" version="1.0" author="Emitter" description="EmittedPeachWSDL">
  <Include ns="default" src="file:defaults.xml" />
  <Include ns="pt" src="file:PeachTypes.xml" />
  <DataModel name="EmptyBlock" />
  <DataModel name="SoapEnvelope">
    <XmlElement ns="" name="soapEnvelope" elementName="soapEnvelope">
      <XmlAttribute name="xmlns_soap" ns="http://www.w3.org/2000/xmlns/" attributeName="xmlns:soap" minOccurs="1" maxOccurs="1">
        <String name="xmlns_soapValue" value="http://schemas.xmlsoap.org/soap/envelope" />
      </XmlAttribute>
      <XmlAttribute name="xmlns_xsi" ns="http://www.w3.org/2000/xmlns/" attributeName="xmlns:xsi" minOccurs="1" maxOccurs="1">
        <String name="xmlns_xsiValue" value="http://www.w3.org/2001/XMLSchema-instance" />
      </XmlAttribute>
      <XmlAttribute name="xmlns_xsd" ns="http://www.w3.org/2000/xmlns" attributeName="xmlns:xsd" minOccurs="1" maxOccurs="1">
        <String name="xmlns_xsdValue" value="http://www.w3.org/2001/XMLSchema" />
      </XmlAttribute>
    </XmlElement>
    <XmlElement name="SoapHeader" elementName="SoapHeader" />
    <XmlElement name="SoapBody" elementName="SoapBody">
      <XmlElement name="soapdata" elementName="test"/> 
    </XmlElement>
  </DataModel>
  <DataModel name="Any" />
  <Test name="SoapTestTest">
    <StateModel ref="SoapTestStateModel" />
    <Publisher name="SoapTestPublisher" class="stdout.Stdout" />
  </Test>
  <StateModel name="SoapTestStateModel" initialState="initial">
    <State name="initial">
      <Action name="SoapTestAction" type="output">
        <DataModel ref="SoapEnvelope" />
      </Action>
    </State>
  </StateModel>
  <DataModel name="Example_org_Add">
    <XmlElement name="a" elementName="a">
      <String name="Example_org_aData" value="41" />
    </XmlElement>
    <XmlElement name="b" elementName="b">
      <String name="Example_org_bData" value="41" />
    </XmlElement>
  </DataModel>
  <DataModel name="Example_org_AddResponse">
    <XmlElement ns="" name="result" elementName="result">
      <String name="Example_org_resultData" value="41" />
    </XmlElement>
  </DataModel>
  <DataModel name="Example_org_Subtract">
    <XmlElement ns="" name="a" elementName="a">
      <String name="Example_org_aData" value="41" />
    </XmlElement>
    <XmlElement ns="" name="b" elementName="b">
      <String name="Example_org_bData" value="41" />
    </XmlElement>
  </DataModel>
  <DataModel name="Example_org_SubtractResponse">
    <XmlElement ns="" name="result" elementName="result">
      <String name="Example_org_resultData" value="41" />
    </XmlElement>
  </DataModel>
  <DataModel name="Example2_org_Add">
    <XmlElement ns="" name="a" elementName="a">
      <String name="Example2_org_aData" value="41" />
    </XmlElement>
    <XmlElement ns="" name="b" elementName="b">
      <String name="Example2_org_bData" value="41" />
    </XmlElement>
  </DataModel>
  <DataModel name="Example2_org_AddResponse">
    <XmlElement ns="" name="result" elementName="result">
      <String name="Example2_org_resultData" value="41" />
    </XmlElement>
  </DataModel>
  <DataModel name="Example2_org_Subtract">
    <XmlElement ns="" name="a" elementName="a">
      <String name="Example2_org_aData" value="41" />
    </XmlElement>
    <XmlElement ns="" name="b" elementName="b">
      <String name="Example2_org_bData" value="41" />
    </XmlElement>
  </DataModel>
  <DataModel name="Example2_org_SubtractResponse">
    <XmlElement ns="" name="result" elementName="result">
      <String name="Example2_org_resultData" value="41" />
    </XmlElement>
  </DataModel>
  <DataModel name="ICalculator_Add_InputMessage">
    <XmlElement name="parameters" ref="Example_org_Add" />
  </DataModel>
  <DataModel name="ICalculator_Add_OutputMessage">
    <XmlElement name="parameters" ref="Example_org_AddResponse" />
  </DataModel>
  <DataModel name="ICalculator_Subtract_InputMessage">
    <XmlElement name="parameters" ref="Example_org_Subtract" />
  </DataModel>
  <DataModel name="ICalculator_Subtract_OutputMessage">
    <XmlElement name="parameters" ref="Example_org_SubtractResponse" />
  </DataModel>
  <Test name="AddInputTest">
    <StateModel ref="AddInputStateModel" />
    <Publisher name="AddInputPublisher" class="stdout.Stdout"/>
    <!--Publisher name="AddInputPublisher" class="tcp.Tcp">
      <Param name="host" value="127.0.0.1" />
      <Param name="port" value="80" />
    </Publisher-->
  </Test>
  <DataModel name="ICalculator_Add_InputMessageSOAP" ref="SoapEnvelope">
    <XmlElement name="SoapBody.soapdata" ref="ICalculator_Add_InputMessage" />
  </DataModel>
  <StateModel name="AddInputStateModel" initialState="initial">
    <State name="initial">
      <Action name="AddInputAction" type="output">
        <DataModel ref="ICalculator_Add_InputMessageSOAP" />
      </Action>
    </State>
  </StateModel>
  <Test name="AddOutputTest">
    <StateModel ref="AddOutputStateModel" />
    <Publisher name="AddOutputPublisher" class="tcp.TcpListener">
      <Param name="host" value="127.0.0.1" />
      <Param name="port" value="80" />
    </Publisher>
  </Test>
  <DataModel name="ICalculator_Add_OutputMessageSOAP" ref="SoapEnvelope">
    <XmlElement name="soapBodyData" elementName="SoapBody" ref="ICalculator_Add_OutputMessage" />
  </DataModel>
  <StateModel name="AddOutputStateModel" initialState="initial">
    <State name="initial">
      <Action name="AddOutputAction" type="output">
        <DataModel ref="ICalculator_Add_OutputMessageSOAP" />
      </Action>
    </State>
  </StateModel>
  <Test name="SubtractInputTest">
    <StateModel ref="SubtractInputStateModel" />
    <Publisher name="SubtractInputPublisher" class="tcp.Tcp">
      <Param name="host" value="127.0.0.1" />
      <Param name="port" value="80" />
    </Publisher>
  </Test>
  <DataModel name="ICalculator_Subtract_InputMessageSOAP" ref="SoapEnvelope">
    <XmlElement name="soapBodyData" ref="ICalculator_Subtract_InputMessage" />
  </DataModel>
  <StateModel name="SubtractInputStateModel" initialState="initial">
    <State name="initial">
      <Action name="SubtractInputAction" type="output">
        <DataModel ref="ICalculator_Subtract_InputMessageSOAP" />
      </Action>
    </State>
  </StateModel>
  <Test name="SubtractOutputTest">
    <StateModel ref="SubtractOutputStateModel" />
    <Publisher name="SubtractOutputPublisher" class="tcp.TcpListener">
      <Param name="host" value="127.0.0.1" />
      <Param name="port" value="80" />
    </Publisher>
  </Test>
  <DataModel name="ICalculator_Subtract_OutputMessageSOAP" ref="SoapEnvelope">
    <XmlElement name="soapBodyData" ref="ICalculator_Subtract_OutputMessage" />
  </DataModel>
  <StateModel name="SubtractOutputStateModel" initialState="initial">
    <State name="initial">
      <Action name="SubtractOutputAction" type="output">
        <DataModel ref="ICalculator_Subtract_OutputMessageSOAP" />
      </Action>
    </State>
  </StateModel>
  <Run name="DefaultRun">
    <Logger class="logger.Filesystem">
      <Param name="path" value="C:\peach\logtest" />
    </Logger>
    <!--Test ref="SoapTestTest" /-->
    <Test ref="AddInputTest" />
    <Test ref="AddOutputTest" />
    <Test ref="SubtractInputTest" />
    <Test ref="SubtractOutputTest" />
  </Run>
</Peach>