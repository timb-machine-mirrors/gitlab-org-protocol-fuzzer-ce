include::Png_DataSheet.txt[]

Configuration
-------------

.Target Configuration
Any number of image viewing programs may be targeted with the PNG file format. Example targets for fuzzing PNG are "feh" on Linux and "mspaint.exe" on Windows. The target program can be set in the Png.xml.config file by defining the Target program for each operating system.

_Example setting up feh on linux and configuring defines:_

----
#Installing feh on linux
sudo apt-get install feh
----

.Required Pit Configuration Changes
Seed:: Name of a valid PNG file located in the Samples directory. An empty string indicates use all files in the directory.  Multiple files can be globbed together wtih an asterisk wildcard.
Target:: The program that will open the fuzzed Png files

.Optional Pit Configuration Changes
Strategy:: Fuzzing strategy Peach will use for testing
LoggerPath:: Directory path to folder where logs will be stored
Agent:: The agent that will be ran to open the target program. This is generally OS dependent
Path:: Path to the relative base directory where all pits are located
SamplePath:: Path to the directory in which the Png sample files are stored.  Relative to Path

.Sample Png Configuration File
[source,xml]
----
<?xml version="1.0" encoding="utf-8"?>
<PitDefines>

  <All>
    <!-- <Define key="Seed" value="png_sample_001.PNG"/> -->
    <Define key="Seed" value="png_sample_*.PNG"/>
    <Define key="Strategy"  value="Random"/>
    <Define key="LoggerPath"  value="./logs/png/"/>
    <Define key="SamplePath" value="_Common/Samples/Image"/>
    <Define key="Path" value="."/>
  </All>
    
  <Linux platform="linux">
    <Define key="Agent" value="LinuxAgent"/>
    <Define key="Target" value="feh" />
  </Linux>
  <OSX platform="osx">
    <Define key="Agent" value="OsxAgent"/>
    <Define key="Target" value="/Applications/Preview.app/Contents/MacOS/Preview" />
  </OSX>
  <Windows platform="windows">
    <Define key="Agent" value="WinAgent"/>
    <Define key="Target" value="C:\\windows\\system32\\mspaint.exe" />
  </Windows>

</PitDefines>
----

.Configure Additional Monitors
Add monitors to agent as needed

Running
-------

.Single test debug run
----
peach -1 -debug Png.xml
----
.Full test run
----
peach Png.xml
----