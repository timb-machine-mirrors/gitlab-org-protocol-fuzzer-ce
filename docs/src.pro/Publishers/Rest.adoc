<<<
[[Publishers_Rest]]
== Rest Publisher

The _Rest_ Publisher enables a pit to communicate via an SSL over TCP socket.

_Ssl_ is used to fuzz protocols built inside an SSL encrypted channel (such as HTTPS).

Since it is easy to confuse _Ssl_ and _SslListner_, here's the difference:

* The _Ssl_ Publisher connects out
* The _SslListner_ Publisher accepts (inward) connections

=== Syntax

[source,xml]
----
<Publisher class="Rest">
    <Param nmae="Method" value="GET"/>
    <Param name="Url" value="" />
</Publisher>
----

[source,xml]
----
<Action type="call" method="GET /product/{0}">
    <!-- {0} -->
    <Param name="Id">
        <DataModel ref="Id" />
    </Param>
</Action>

<Action type="call" method="GET /invoices?start_date={0}&end_data={1}">
    <!-- {0} -->
    <Param name="StartDate">
        <DataModel ref="StartDate" />
    </Param>
    <!-- {1} -->
    <Param name="EndDate">
        <DataModel ref="EndDate" />
    </Param>
</Action>

<Action type="call" method="POST /product/{0}">
    <!-- {0} -->
    <Param name="Id">
        <DataModel ref="Id" />
    </Param>
    
    <!-- POST Body -->
    <Param name="PostData">
        <DataModel ref="PostData" />
    </Param>
</Action>
----

=== Parameters

_Required:_

There are no required parameters.
    
_Optional:_

BaseUrl:: Base URL is used by some authentication types
Username:: Username for authentication
Domain:: Domain for authentication
Cookies:: Enable cookie support. Defaults to true.
CookiesAcrossIterations:: Track cookies across iterations. Defaults to false.
Timeout:: How long to wait in milliseconds for data/connection. Defaults to 3,000.
IgnoreCertErrors:: Allow HTTPS regardless of cert status. Defaults to false.

=== Actions

xref:Action_call[call]::
+
Call actions are used to perform REST calls.
The method attribute will contain both the HTTP method (GET, POST, etc.) and the URL.
The URL portion of the method attribute can contain parameter subsitution tokens. 
These tokens will be replaced with the parameters provided. 
One additional parameter can be provided that is used for the body of the request.
+
The format of the method attribute is: +METHOD URL+
+
This example will expect a single parameter: +GET /product/{0}+
+
This example will expect two parameters: +GET /invoices?start_date={0}&end_date={1}+

///////////////////////////
=== Examples

.Calling Rest Services
[source,xml]
----
TODO -- Call public rest api (google?)
----

///////////////////////////
