[[DebuggingPitFiles]]
== Debugging Pit Files

// TODO - Expand on debugging pits, include validator. Debug output walkthrough

// * "-1 --debug"
// * --debug vs. --trace
// * How to read debug output
// * Walk through example for WAV or other simple format
// * Debugging in more complex environments
// * Fault simulation
// * Debugging models vs. debugging environment automation

A PIT is NOT valid unless...

 * The first iteration is successful against the target
 * The target is isolated from other input. 
 * You can demonstrate the target has parsed your data by checking if:
 ** GUI opens the image data
 ** Network service logs your data 
 ** You get the correct response packet from the target for the packet you sent
 ** The status lights blink appropriately
 * Logging is enabled
 * Monitoring is enabled
 * Monitoring has been tested and fault on a demo/test fault 

=== What to do if the pit doesn't parse

----
Peach.exe -t pit_file.xml 
----

If a stack trace prints, record the stack trace where the improper error handling occurred.
The pit doesn't run properly.
During the testing and building phase run the first iteration only. 

----
Peach.exe -1 pit_file.xml
----

Reduce the pit to basic parts in order make sure the following items are specified correctly:

. Test - The references have the right names
. Log Path - The folder path is valid
. Publisher - The functionality works: communicating (network Publisher), sending or receiving data, or outputting data
. Agent - The Monitor setup is correct and the Monitor has connectivity
. State Machine - The references to the data models are correct
. DataModel - Loads and displays the appropriate layout in the Peach Validator

The Peach debug argument (+--debug+ on the command line) provides verbose output that can help in debugging a Pit file.

----
Peach.exe -1 --debug pit_file.xml
----

